#space_data_script
-------------------------------------------------
#bin path
cd /rds/general/user/ytt16/home/MetaMiner/NPDtools-2.5.0-Linux/bin

module load anaconda3/personal
-------------------------------------------------
#sequence directory
/rds/general/user/ytt16/home/MetaMiner/data/fasta/space

#spectra direcotry
/rds/general/user/ytt16/home/MetaMiner/data/msms/space

#outdir
/rds/general/user/ytt16/home/MetaMiner/results/space/13_05_22
-------------------------------------------------
#both sequence and spectra are from MSV000080102
#terminated no joblib
python metaminer.py /rds/general/user/ytt16/home/MetaMiner/data/msms/space -s /rds/general/user/ytt16/home/MetaMiner/data/fasta/space -o /rds/general/user/ytt16/home/MetaMiner/results/space/13_05_22-1


python metaminer.py /rds/general/user/ytt16/home/MetaMiner/data/msms/space -s /rds/general/user/ytt16/home/MetaMiner/data/fasta/space/ISSFR_3F.pacbio.fasta -o /rds/general/user/ytt16/home/MetaMiner/results/space/13_05_22-2

#joblib
python metaminer.py /rds/general/user/ytt16/home/MetaMiner/data/msms/space -s /rds/general/user/ytt16/home/MetaMiner/data/fasta/space -o /rds/general/user/ytt16/home/MetaMiner/results/space/14_05_22-1

/rds/general/user/ytt16/home/MetaMiner/results/space/14_05_22-1/work/metaminer.log

see which sequences give significant results
grep 'Number of significant PSMs' 14_05_22_seq*/summary.tsv
#only ISSFR_3F and JEM2 have significant PMS

grep 'Number of all PSMs' 14_05_22_seq*/summary.tsv

--------------------------------------------------------
compare_the_two_strains
in /rds/general/user/ytt16/home/MetaMiner/results/space

#the significant matches are the same (matching to the same spectra files)
14_05_22_seq_ISSFR_3F/significant_matches.tsv 14_05_22_seq_JEM2/significant_matches.tsv

#compare the all_matches.tsv
wc -l 14_05_22_seq_ISSFR_3F/all_matches.tsv
wc -l 14_05_22_seq_JEM2/all_matches.tsv
#the number of lines are different (22261-22279)

#compare the raw sequence
diff -q JEM2.pacbio.fasta ISSFR_3F.pacbio.fasta
Files JEM2.pacbio.fasta and ISSFR_3F.pacbio.fasta differ

--------------------------------------------------------
#the results are different when all sequences are included by just specifying the diretory
#these files are created by grep sequence-00004/00005
space/analysis/ISSFR_3F_pooled.txt
space/analysis/JEM2_pooled.txt
#failed at genome analysis

--------------------------------------------------------
#ISSFR_3F failed at genome analysis stage when run with other strains
/rds/general/user/ytt16/home/MetaMiner/results/space/14_05_22-1/work/sequence-00004.fasta_lantibiotic_metaminer.log

#when just ISSFR_3F
/rds/general/user/ytt16/home/MetaMiner/results/space/13_05_22-2/work/sequence-00000.fasta_lantibiotic_metaminer.log